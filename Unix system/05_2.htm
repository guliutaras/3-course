<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Лабораторна робота № 2, Гулий Тарас, ПК-15-1</title>
</head>
<body>
<h1 align=center>Лабораторна робота № 2</h1>
<h2 align=center>Завдання</h2>
<p align=justify>Написати скрипт, який в якості першого параметра приймає ім'я директорії, з якої будуть запускатися файли. Якщо у вказаній директорії є виконуваний файл з іменем index , то необхідно запустити його на виконання. В іншому випадку, якщо в директорії існує файл index.htm, то відкрити його з допомогою програми bareview. Якщо файла index.htm в директорії немає, але існує файл index.html, то відкрити його з допомогою gtkmoz. Якщо ж жодного з указаних файлів не виявлено, створи діалогове вікно, в якому запитати, який файл необхідно виконати. Скрипт повинен корректно виконуватись як в графічному режимі, так і без нього.</p>
<h2 align=center>Текст розв'язку</h2>
<xmp>
#!/bin/bash
if [ -z "$DISPLAY" ]; then
	DIALOG=dialog
	w=40
	h=10
else
	DIALOG=cdialog
	w=400
	h=100
fi
if [ -d $1 ]; 
then 
	cd $1
	if [ -f index.htm ]; then
		./bareview index.htm
		exit
	fi
	if [ -f index.html ]; then
		./gtkmoz index.html
		exit
	else
	TMP="/tmp/cmd.tmp"
	$DIALOG --title 'Enter file name' --inputbox 'File name:' h w 'index' 2> $TMP
	result=$(cat &TMP);
		if [ "$?" -ne "-1" ]; then
		exec $result
		fi
	exit
	fi
else
	$DIALOG --title "Error" --yesno "There is no such directory" $h $w
fi
</xmp>
<h2 align=center>Пояснення</h2>
<p align=justify>Першим кроком у написанні скрипту стало необхідно визначити чи підтримується графічний режим отже спочатку ми перевыримо
змінну оточення якак відопідає за цей параметр і в залежності від можливості підтримки графічного режиму встановимо команду,
яка буде створювати вікно. Потім масивом перевірок перевіримо параметр на корректність ключами -d для перевірки коректонсті шляху,
а потім -f для перевірки існування файла за вказаним шляхом. Якщо необхідний файл знайдено передаємо виконання файла скрипту
(через відсутність програми bareview і gtkmoz встановимо скрипти які визначають їх наявність). У разі відсутності необхідного файлу
створимо нове діалогове вікно з полем для вводу і перехоплюємо введене у поле значення за допомогою тимчасового файлу
потім перевіряемо і виконуємо його.</p>
</body>
</html>
